<div class="card card-post">
    <section class="card-header flex flex-align-center flex-justify-between">
        <a class="card-user flex flex-align-center" href="{% url 'account:profile' username=post.author %}">
            <span class="card-user-picture">
                {% if post.author.profile.picture %}
                    <img src="{{ post.author.profile.picture.url }}" alt="{{ post.author.username }}-profile-pic">
                {% else %}
                    <span class="profile-default flex flex-justify-center flex-align-center">
                        {{ post.author.first_name|slice:':1' }}{{ post.author.last_name|slice:':1' }}
                    </span>
                {% endif %}
            </span>
            <span class="card-user-username" style="margin-left: 10px;">{{ post.author }}</span>
        </a>
        <button class="card-options">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path d="M14 12c0-0.552-0.225-1.053-0.586-1.414s-0.862-0.586-1.414-0.586-1.053 0.225-1.414 0.586-0.586 0.862-0.586 1.414 0.225 1.053 0.586 1.414 0.862 0.586 1.414 0.586 1.053-0.225 1.414-0.586 0.586-0.862 0.586-1.414zM21 12c0-0.552-0.225-1.053-0.586-1.414s-0.862-0.586-1.414-0.586-1.053 0.225-1.414 0.586-0.586 0.862-0.586 1.414 0.225 1.053 0.586 1.414 0.862 0.586 1.414 0.586 1.053-0.225 1.414-0.586 0.586-0.862 0.586-1.414zM7 12c0-0.552-0.225-1.053-0.586-1.414s-0.862-0.586-1.414-0.586-1.053 0.225-1.414 0.586-0.586 0.862-0.586 1.414 0.225 1.053 0.586 1.414 0.862 0.586 1.414 0.586 1.053-0.225 1.414-0.586 0.586-0.862 0.586-1.414z"></path>
            </svg>
        </button>
    </section>
    <section class="card-image"><img src="{{ post.image.url }}" alt="{{ post.author.username }}-post-image"></section>
    <section class="card-actions flex flex-align-center flex-justify-between">
        <div class="card-actions-main flex">
            <form action="{% url 'posts:like' url=post.url %}" method="post" style="margin-right: 15px;">
                {% csrf_token %}
                <button class="flex flex-align-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                    <span style="margin-left: 5px; font-weight: 500;">{{ post.total_likes }} Like{{ post.total_likes | pluralize }}</span>
                </button>
            </form>
            <button class="flex flex-align-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                <span style="margin-left: 5px;">{{ post.total_comments }} Comment{{ post.total_comments | pluralize }}</span>
            </button>
        </div>
        <button class="card-action-bookmark">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg>             
        </button>
    </section>
    <section class="card-comment">
        <form action="" method="post">
            <div class="form-group flex">
                <section class="card-user-form" style="margin-right: 15px;">
                    {% if request.user.profile.picture %}
                        <img src="{{ request.user.profile.picture.url }}" alt="{{ request.user.username }}_profile_picture">
                    {% else %}
                        <div class="profile-default flex flex-align-center flex-justify-center">
                            {{ request.user.first_name | slice:':1' }}{{ request.user.last_name | slice:':1' }}
                        </div>
                    {% endif %}
                </section>
                <input type="text" name="comment" id="comment" class="input-comment" placeholder="Add a comment ...">
            </div>
        </form>
    </section>
    {% url 'posts:detail' url=post.url as post_detail %}
    {% if request.path == post_detail %}
        <section class="card-comments">
            {% if comments %}
                {% for comment in comments %}
                    <span>{{ comment.content }}</span>
                {% endfor %}
            {% endif %}
        </section>
    {% endif %}
</div>